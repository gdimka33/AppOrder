from datetime import datetime
from config import (ДЕНЬ_НАЧАЛА_ГОДА, ДЕНЬ_НАЧАЛА_НАБОРА)


def вычислить_курс(год_набора):
    """
    Рассчитывает текущий курс обучения на основе года набора.
    
    Args:
        год_набора (int): Год набора курсанта
        
    Returns:
        str: Строка с номером курса и годом набора
    """
    текущая_дата = datetime.now()
    текущий_год = текущая_дата.year
    текущий_месяц = текущая_дата.month
    текущий_день = текущая_дата.day
    
    # Корректируем учебный год
    учебный_год = текущий_год
    if текущий_месяц < 9 or (текущий_месяц == 9 and текущий_день < ДЕНЬ_НАЧАЛА_ГОДА):
        учебный_год -= 1
        
    # Рассчитываем курс
    курс = учебный_год - год_набора + 1
    
    # Проверяем особые случаи
    if (текущий_месяц == 8 and текущий_день >= ДЕНЬ_НАЧАЛА_НАБОРА) and год_набора == текущий_год:
        return f"1 курс (набор {год_набора})"
    elif курс > 5:
        return "Выпускник"
    elif курс < 1:
        return "Не начал обучение"
    else:
        return f"{курс} курс"